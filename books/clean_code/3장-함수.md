3장 함수
=========

### 작게 만들어라!

**함수는 작게 만들수록 좋다**

함수 안에 if 문 / else 문 / while 문 등에 들어가는 블록은 한 줄이어야 한다?

함수에서 들여쓰기 수준은 1단이나 2단 정도가 좋다. 이 말은 함수가 커지면 안 된다는 뜻!

<br>

### 한 가지만 해라!

**함수는 한 가지를 해야 한다. 그 한 가지를 잘 해야 한다. 그 한 가지만을 해야 한다.**

그렇다면 그 한 가지는 무엇인가?

지정된 함수 이름 아래에서 추상화 수준이 하나인 단계만 수행한다면 그 함수는 한 가지 작업만 한다.

(추상화는 핵심적인 개념 또는 기능을 간추려 낸 것.)

<br>

### 함수 당 추상화 수준은 하나로!

**함수가 한 가지 작업만 하려면 함수 내 모든 문장의 추상화 수준이 동일해야 한다.**

코드는 위에서 아래로 이야기처럼 읽혀야 좋다.

위에서 아래로 프로그램을 읽으면 함수 추상화 수준이 한 단계씩 낮아져야 한다.

<br>

### Switch 문

Switch 문을 사용할 때 작게 만들기 어렵다.

그럴 땐 다형성을 객체를 생성하는 코드 안에서 사용한다.

<br>

### 서술적인 이름을 사용하라!

**길고 서술적인 이름이 짧고 어려운 이름보다 좋다.**

=> 서술적인 이름을 사용하면 개발자 머릿속에서도 설계가 뚜렷해지므로 코드를 개선하기 쉬워진다.

이름을 붙일 때는 일관성이 있어야 한다.

<br>

### 함수 인수

**함수에서 이상적인 인수 개수는 0개이다. 다음은 1개고, 다음은 2개다** 그다음부턴 피하는 게 좋다.

- 단항 형식 <br>
  함수에 인수 1개를 넘기는 이유는 흔히 두 가지. <br>
  - 인수에 질문을 던지는 경우.
  - 인수를 뭔가로 변환해 결과를 반환하는 경우.
  - or 이벤트 (함수 호출을 이벤트로 해석해 입력 인수로 시스템 상태를 바꾸는 경우.)

- 플래그 인수 <br>
  웬만하면 사용 안 하는 게 좋음.

- 이항 함수 <br>
  이항 함수는 (불가피한 경우가 아니면) 단항 함수로 바꾸도록 애써야 한다.

- 삼항 함수 <br>
  이항 함수보다 훨씬 더 이해하기 어렵다. 그러므로 인수를 줄일 수 있도록 애써보자.

- 인수 객체 <br>
  인수가 여러 개 필요하다면 일부를 독자적인 클래스 변수로 선언할 가능성을 고려해본다. <br>
  ex)
  ~~~ java
	Circle makeCircle(double x, double y, double radius);
	Circle makeCircle(Point center, double radius);
  ~~~

- 동사와 키워드 <br>
  함수의 의도나 인수의 순서와 의도를 제대로 표현하려면 좋은 함수 이름이 필수.

<br>

### 부수 효과를 일으키지 마라!

**함수에 부수 효과가 일어나면 안된다.**

ex) <br>
~~~java
	public boolean checkPassword(String userName, String password) {
		...

		Session.initialize();
		...
	}
~~~

위 함수는 비밀번호를 확인하는 함수이다. 그러나 중간에 세션을 초기화하는 코드가 있다.

문제는 함수를 사용할 때 의도와는 다르게 세션까지 초기화된다는 것이다.

만약 시간적인 결합이 필요하다면 함수 이름에 분명히 명시한다.

위 예제 같은 경우엔 checkPasswordAndInitializeSession으로 바꾸는 것이 적당하다.

<br>

### 명령과 조회를 분리하라!

**함수는 뭔가를 수행하거나 뭔가에 답하거나 둘 중 하나만 해야 한다.**

둘 다 하는 경우 : 객체의 상태를 변경하면서 정보를 반환하는 함수.

<br>

### 오류 코드보다 예외를 사용하라!

명령 함수에서 오류 코드를 반환하는 방식은 명령 / 조회 분리 규칙을 미묘하게 위반한다. 대신 예외 코드를 사용하자.

try / catch 방식을 사용하기보단 각 블록을 별도의 함수로 뽑아내는 편이 좋다.

<br>

### 반복하지 마라!

코드가 반복되면 안 좋은 점. <br>
- 코드 길이가 늘어난다.
- 알고리즘이 변하면 여러 부분을 수정해야 된다.
- 알고리즘을 수정할 때 한곳이라도 빠뜨리면 오류가 발생할 확률이 높아진다.

<br>

### 구조적 프로그래밍

구조적 프로그래밍의 규율 <br>
- 함수는 return 문이 하나여야 한다.
- 루프 안에서 break나 continue를 사용해선 안된다.
- goto는 절대 x2 사용하면 안 됨.

위 규칙들은 함수가 클 때 적용하면 좋음.

함수가 작다면 return이 여러 개거나, break continue를 사용해도 문제없다.

<br>

### 함수를 어떻게 짜죠?

글쓰기와 비슷하게 먼저 생각을 기록한 후 읽기 좋게 다듬는다.

<br>