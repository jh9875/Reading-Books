시스템
===

### 시스템 제작과 시스템 사용을 분리하라

소프트웨어 시스템은 (애플리케이션 객체를 제작하고 의존성을 서로 연결하는) 준비 과정과 <br>
(준비 과정 이후에 이어지는) 런타임 로직을 분리해야 한다.

체계적이고 탄탄한 시스템을 만들고 싶다면 흔히 쓰는 좀스럽고 손쉬운 법으로 모듈성을 깨서는 절대로 안 된다. <br>
객체를 생성하거나 의존성을 연결할 때도 마찬가지다. <br>
설정 논리는 일반 실행 논리와 분리해야 모듈성이 높아진다.

시스템 생성과 시스템 사용을 분리하는 방법 <br>
- Main 분리 <br>
  생성과 관련된 코드는 모두 main이나 main이 호출하는 모듈로, <br>
  나머지 시스템은 모든 객체가 생성되었고 모든 의존성이 연결되었다고 가정.

- 팩토리 <br>
  때로는 객체가 생성되는 시점을 애플리케이션이 결정할 필요도 생긴다. <br>
  이때는 ABSTRACT FACTORY 패턴을 사용한다.
  (ABSTRACT FACTORY 패턴이란? 서로 관련 있는 다양한 객체들의 집합을 만드는 인터페이스를 제공하는 패턴.)

- 의존성 주입 <br>
  의존성 주입은 제어 역전 기법을 의존성 관리에 적용한 메커니즘이다. <br>
  제어 역전에서는 한 객체가 맡은 보조 책임을 새로운 객체에게 전적으로 떠넘긴다. <br>
  새로운 객체는 넘겨받은 책임만 맡으므로 단일 책임 원칙*SRP*을 지키게 된다.

<br>

### 확장

'처음부터 올바르게' 시스템을 만들 수 있다는 믿음은 미신이다. 대신에 우리는 오늘 주어진 사용자 스토리에 맞춘 시스템을 구현해야 한다.

소프트웨어 시스템은 관심사를 적절히 분리해 관리한다면 소프트웨어 아키텍처는 점진적으로 발전할 수 있다.

<br>

### 테스트 주도 시스템 아키텍처 구축

코드 수준에서 아키텍처 관심사를 분리할 수 있다면, 진정한 테스트 주도 아키텍처 구축이 가능해진다.

소프트웨어 구조가 관점을 효과적으로 분리한다면, 극적인 변화가 경제적으로 가능하다.

'아주 단순하면서도' 멋지게 분리된 아키텍처로 소프트웨어 프로젝트를 진행해 결과물을 재빨리 출시한 후, 기반 구조를 추가하며 조금씩 확장해 나가도 괜찮다.

<br>

### 의사 결정을 최적화하라

모듈을 나누고 관심사를 분리하면 지엽적인 관리와 결정이 가능해진다. <br>
아주 큰 시스템에서는 한 사람이 모든 결정을 내리기 어렵다. <br>
가장 적합한 사람에게 책임을 맡기면 가장 좋다.

<br>

### 명백한 가치가 있을 때 표준을 현명하게 사용하라

<br>

### 시스템은 도메인 특화 언어가 필요하다

<br>

### 결론

깨끗하지 못한 아키텍처 =><br>
- 도메인 논리를 흐리며 기민성을 떨어뜨림
- 도메인 논리가 흐려지면 제품 품질이 떨이짐
- 버그가 숨어들기 쉬워짐
- 스토리를 구현하기 어려워짐
- 기민성이 떨어지면 생산성이 낮아져 TDD가 제공하는 장점이 사라짐.

모든 추상화 단계에서 의도를 명확히 표현해야 한다.

시스템을 설계하든 개별 모듈을 설계하든, 실제로 돌아가는 가장 단순한 수단을 사용해야 한다.

<br>
