1장. 들어가며
===

### 카프카의 탄생

카프카는 각각의 애플리케이션끼리 연결하여 데이터를 처리하는 것이 아니라 한 곳에 모아 처리할 수 있도록 중앙집중화 했다.

카프카를 중앙에 배치함으로써 소스 애플리케이션과 타깃 애플리케이션 사이의 의존도를 최소화하여 커플링을 완화하였다.

카프카를 통해 전달할 수 있는 데이터 포맷은 사실상 제한이 없다. <br>
직렬화, 역직렬화를 통해 ByteArray로 통신하기 때문에 자바에서 선언 가능한 모든 객체를 지원한다.

상용 환경에서 카프카는 최소 3대 이상의 서버(브로커)에서 분산 운영하여 프로듀서를 통해 전송받은 데이터를 파일 시스템에 안전하게 기록한다.

데이터를 묶음 단위로 처리하는 배치 전송을 통해 낮은 지연과 높은 데이터 처리량도 가지게 되었다.

### 빅데이터 파이프라인에서 카프카의 역할

과거에 비즈니스를 수행하기 위한 최소한의 정보만 저장하는 것 과는 사뭇 다른 양상이라고 볼 수 있다. 이것을 우르는 '빅데이터'라고 부른다.

빅데이터를 저장하고 활용하기 위해서는 일단 생성되는 데이터를 모두 모으는 것이 중요한데, 이때 사용되는 개념이 '데이터 레이크(data lake)'다. 즉, 운영되는 서비스로부투 수집 가능한 모든 데이터를 모으는 것이다.

점점 서비스가 비대해지고 복잡해지면서 이를 해결하기 위해 데이터를 추출(extracting)하고 변경(transforming), 적재(loading)하는 과정을 묶은 데이터 파이프라인을 구축해야 한다. <br>
엔드 투 엔드 방식의 데이터 수집 및 적재를 개선하고 안정성을 추구하며, 유연하면서도 확장 가능하게 자동화한 것을 '데이터 파이프라인'이라고 부른다.

카프카가 데이터 파이프라인으로 적합한 이유
- 높은 데이터 처리량 <br>
	- 카프카는 producer -> broker, broker -> consumer로 데이터가 이동할 때 모두 묶어서 		전송한다. 동일한 양의 데이터를 보낼 때 네트워크 통신 횟수를 최소한으로 줄인다면 동일 시간 내에 더 많은 데이터를 전송할 수 있다. <br>
	- 많은 양의 데이터를 묶음 단위로 처리하는 배치로 빠르게 처리할 수 있다.
	- 파티션 단위를 통해 동일 목적의 데이터를 여러 파티션에 분배하고, 데이터를 병렬 처리할 수 있다.
- 확장성
  - 카프카는 가변적인 환경에서 안정적으로 확장 가능하도록 설계되었다. (scale-out, scale-in 가능.)
- 영속성
  - 파일 시스템을 활용한 덕분에 브로커 애플리케이션이 장애 발생으로 급작스럽게 종료되더라도 프로세스를 재시작하여 안전하게 데이터를 다시 처리할 수 있다.
- 고가용성
  - 클러스터로 이루어진 카프카는 데이터의 복제(replication)를 통해 고가용성의 특징을 가지게 되었다. <br>
	프로듀서로 전송받은 데이터를 여러 브로커 중 1대의 브로커에만 저장하는 것이 아니라 또 다른 브로커에도 저장하는 것이다.

